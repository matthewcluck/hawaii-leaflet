# hawaii-leaflet

After several months of steadily churning through web development fundamentals, I figured it was time to build something related to my field of GIS. I had always had my eye on the JavaScript library leaflet, so I started with that.

I just wanted to get my feet wet with an open-source mapping library, so I set out with a small goal of having a one page app. I wanted a map with interactive data that also interacted with the DOM. I started a repo and added boilerplate HTML with CSS and JavaScript files. Then I followed the quick start guide from Leaflet and got a map on my HTML page, which was honestly painless. 

At this point I began formatting the bones of the page. My go-to for layout for my previous apps had been using Flexbox. Unfortunately, I was having issues using Flexbox with Leaflet, so instead of spending more time troubleshooting I went with using regular CSS. I created an information pane on the left side that I envisioned having data and layer controls, and on the right I would have the map. Lining up boxes without Flexbox proved to be challenging, but after enough trial and error I got a nice layout that looked fine on different screen sizes (still having some spacing troubles).

Next was the data. I started researching what GIS formats Leaflet could ingest, and it turns out most of them, though with varying difficulty. I saw how easy adding a GeoJSON was and went with that. This was the first time I had interacted with GeoJSONs and was surprised how simple they were. There is a lot of GeoJSON data readily available, but the data I found was either too big or simply not what I was wanting. I learned it was easy converting shapefiles to GeoJSON, so I scoured ESRI’s database for any data that stuck out. I ended up finding some polygons that were lava flow zones on the island of Hawaii. I converted the shapefiles using an online converter, and using the Leaflet documentation I added the GeoJSON to my map viewer.

While the lava zones were added to the map, they were defaulted to a blue color. I wanted to explore the attributes of the data at this point so I could symbolize the features better. I did a console.log on the object to find what was within that I could symbolize. I found an ‘mzone’ attribute that essentially told tells you the name of the volcanic zone (numbers correlated with names I found online). I looped through and printed out the ‘mzone’ of each feature in the console so I could find out all of the options rather than picking through a messy object. I then symbolized the polygons based on this attribute data. 
Now it was time to get the DOM involved. I retrieved blurbs of text for each volcanic zone and added them to the info pane HTML. I made them all invisible with CSS until the user clicked on a zone. This was a challenge at first because it is not just a simple event listener—I had to work it into the Leaflet syntax a bit. For more DOM interaction I added a toggle for layer visibility. I didn’t love the way default checkbox inputs looked so I got some SVG checkboxes and put them in instead. The toggle was also challenging because it is outside of the map viewer. I finally figured out I needed to call a feature layer, not the GeoJSON itself to get the removeLayer() function to work properly. Once I assigned a variable to the feature layer it was smooth going.

Finally, I added a legend for each zone by doing some CSS on the borders of the text (I don't love how it looks but I was ready to move on). At this point I figured the app was functional enough and I had achieved what I set out to do. From start to finish I think I logged around 8 hours on this. There is so much room for additional features (transparency slider, individual zone toggles, map tools, more layers), but I am ready to move on to different projects.
